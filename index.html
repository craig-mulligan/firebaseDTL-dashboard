<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="http://cdn.jsdelivr.net/chartist.js/latest/chartist.min.css">
    <script src="http://cdn.jsdelivr.net/chartist.js/latest/chartist.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>



<body>
<div class="container">
    <!-- graph -->
    <h1>Resin tempreture logger</h1>
    <div class="ct-chart"></div>
    
  
</div>
<script src="https://cdn.firebase.com/js/client/2.0.1/firebase.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script type="text/javascript">
    var ref = new Firebase("https://temp-tracker.firebaseio.com/");


    ref.once("value", function(snapshot, callback) {
      var list = [];
      var alltemps = [];
      var alllabels = [];
      console.log(snapshot.val());
      list = snapshot.val();
      $.each(list, function (index) {
        console.log(list.index)
        var year = list[index]
        $.each(year, function (index) {
          var day = year[index]
          $.each(day, function (index) {
            var log = day[index]
            alltemps.push(log.temp);
            alllabels.push(log.time);

          });
        });
      });
    
        new Chartist.Line('.ct-chart', {
          labels: alllabels,
          series: [
            alltemps,
            // [2, 1, 3.5, 7, 3],
            // [1, 3, 4, -5, 6]
          ]
        });
        console.log(alltemps);
        console.log(alllabels);
    }, function (errorObject) {
      console.log("The read failed: " + errorObject.code);
    });

    
  

      
</script>
</body>
</html>
